<div class="loader" *ngIf="loading_list">
  <div class="loding-logo">
    <mat-spinner></mat-spinner>
  </div>
</div>
<div class="main-container">

  <div class="container form-padding">
    <form name="siteform" (ngSubmit)="f.form.valid && saveSchemeform(f)" #f="ngForm" novalidate autocomplete="off">


      <div class="row">
        <div class="col s12">
          <div class="sprate-box ">
            <div class="full-offer">
              <div class="top-heading">
                <!-- <h2> {{karigar_id ? 'EDIT SITE' : 'SITE'}}  INFORMATION</h2> -->
                <h2>Add New Schemes</h2>
                <p>Indicates required fields ( * )</p>
              </div>
            </div>
            <div class="row mb0">
              <div class="col s12">
                <div class="option-field">
                  <div class="row mb10">
                    <div class="col s3">
                      <div class="control-field">
                        <mat-form-field class="cs-input">
                          <input matInput placeholder="Scheme Name" name="scheme_name"
                            [(ngModel)]="siteform.scheme_name" #scheme_name="ngModel" required>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="col s4">
                      <div class="control-field">
                        <mat-form-field class="cs-input">
                          <mat-select placeholder="Select Category" multiple [(ngModel)]="siteform.category_id"
                            name="category_id" #category_id="ngModel" required>
                            <mat-option>
                              <ngx-mat-select-search noEntriesFoundLabel="'no data found'" placeholderLabel="Search.." (keyup)="getCategoryList($event.target.value)"></ngx-mat-select-search>
                            </mat-option>
                            <mat-checkbox class="ml20" [(ngModel)]="siteform.allCategory_id" (change)="selectAll('allCategory_id')"  name="allCategory_id"  value="true">Select All</mat-checkbox>
                            <mat-option [value]="row.id" *ngFor="let row of categoryList">{{row.category_name}}</mat-option>

                           
                          </mat-select>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="col s4">
                      <div class="control-field">
                        <mat-form-field class="cs-input">
                          <mat-select placeholder="Contractor Name" multiple [(ngModel)]="siteform.contractor_id" name="contractor_id" #contractor_id="ngModel">
                            <mat-option>
                              <ngx-mat-select-search noEntriesFoundLabel="'no data found'" placeholderLabel="Search.." (keyup)="getPc($event.target.value)"></ngx-mat-select-search>
                            </mat-option>
                            <mat-checkbox class="ml20" [(ngModel)]="siteform.allpc_id" (change)="selectAll('allpc_id')"  name="allpc_id"  value="true">Select All</mat-checkbox>

                            <mat-option [value]="row.id" *ngFor="let row of pc">{{row.first_name | titlecase}} <strong>{{row.mobile_no}}</strong></mat-option>
                          </mat-select>
                        </mat-form-field>   
                      </div>
                    </div>


                    <!-- <div class="col s3">
                      <div class="control-field">
                        <mat-form-field class="cs-input">
                          
                          <mat-select placeholder="State" [(ngModel)]="siteform.state" name="state" #state="ngModel" (ngModelChange)="getDistrictList(1)" required>
                            <mat-option >
                              <ngx-mat-select-search noEntriesFoundLabel="'no data found'" placeholderLabel="Search.." (keyup)="getStateList($event.target.value)"></ngx-mat-select-search>
                            </mat-option>
                            <mat-option [value]="row.state_name" *ngFor="let row of states">{{row.state_name}}</mat-option>
                          </mat-select>
                        </mat-form-field>  
                      </div>
                    </div> -->
                

                    <div class="col s3">
                      <div class="control-field">
                        <mat-form-field class="cs-input">
                          <input placeholder="Valid From" class="h45" [(ngModel)]="siteform.valid_from"
                            (click)="openDatePicker(picker)" [max]="date1" name="valid_from" matInput [matDatepicker]="picker"
                            readonly>
                          <mat-datepicker-toggle matSuffix [for]="picker">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="col s4">
                      <div class="control-field">
                        <mat-form-field class="cs-input">
                          <input placeholder="Valid To" class="h45" [(ngModel)]="siteform.valid_to"
                            (click)="openDatePicker2(picker1)" [min]="siteform.valid_from" name="valid_to" matInput [matDatepicker]="picker1"
                            readonly>
                          <mat-datepicker-toggle matSuffix [for]="picker1">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>

                  
                    <div class="col s4">
                      <div class="control-field">
                        <mat-form-field class="cs-input">
                          <input matInput placeholder="Bonus Points" name="bonus_points" (keypress)="numberOnly($event)"
                            [(ngModel)]="siteform.bonus_points" #bonus_points="ngModel" required>
                        </mat-form-field>
                      </div>
                    </div>

                  </div>
                  <div class="row mb10">
                    <div class="col s12">
                      <div class="option-field">
                          <div class="control-field">
                              <mat-form-field  class="cs-input">
                                  <textarea matInput placeholder="Description" class="h150" name="scheme_desc" #scheme_desc="ngModel"  [(ngModel)]="siteform.scheme_desc"></textarea>
                              </mat-form-field>
                          </div>
                      </div>
                  </div>
                    <!-- <div class="col s3">
                      <div class="control-field">
                        <mat-form-field class="cs-input">
                          <mat-checkbox  [(ngModel)]="siteform.manufacturing_date" (change)="checkDateOfManufacturing($event)"   name="manufacturing_date"></mat-checkbox> Date Of Packing
                        </mat-form-field>
                      </div>
                    </div> -->

                  </div>

                



                </div>
              </div>

            </div>
          </div>
        </div>
      </div>

      <div class="save mt30">
        <button mat-button>Save Scheme</button>
      </div>
    </form>
  </div>
</div>